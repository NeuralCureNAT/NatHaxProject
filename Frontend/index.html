<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="MigraineMinder - Intelligent migraine management using EEG signals and environmental control">
    <title>MigraineMinder | Easing the mind, one light at a time</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <!-- Check if onboarding is needed -->
    <script>
        // Redirect to onboarding if not completed
        if (!localStorage.getItem('migraineminder_onboarding_complete')) {
            window.location.href = 'onboarding.html';
        }
    </script>

    <!-- Navigation -->
    <header>
        <nav class="navbar">
            <div class="container nav-container">
                <div class="logo">
                    <div class="logo-icon">
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none">
                            <!-- Head outline -->
                            <path d="M20 8 C15 8 10 12 10 18 C10 24 15 28 20 28 C25 28 30 24 30 18 C30 12 25 8 20 8 Z" 
                                  stroke="#1A1F3A" stroke-width="2" fill="none"/>
                            <!-- Lightbulb -->
                            <circle cx="20" cy="18" r="6" fill="#FFC107"/>
                            <path d="M 20 12 L 20 10 M 20 24 L 20 26 M 14 18 L 12 18 M 26 18 L 28 18" 
                                  stroke="#FFC107" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </div>
                    <span class="logo-text">MigraineMinder</span>
                </div>
                <ul class="nav-menu">
                    <li><a href="#home">Home</a></li>
                    <li><a href="#features">Features</a></li>
                    <li><a href="#how-it-works">How It Works</a></li>
                    <li><a href="#dashboard">Dashboard</a></li>
                    <li><a href="#about">About</a></li>
                </ul>
                <button class="menu-toggle" aria-label="Toggle menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-content">
            <div class="hero-quote">
                <blockquote>
                    "Migraine affects over 1 billion people worldwide, yet early detection can reduce severity by up to 80%."
                </blockquote>
                <cite>‚Äî World Health Organization</cite>
            </div>
            <div class="hero-badge">üß† EEG-Powered Migraine Management</div>
            <h1>Easing the mind, <span class="hero-accent">one light at a time</span></h1>
            <p>MigraineMinder detects early migraine patterns from your brainwaves and automatically adjusts your environment. When your brain signals trouble, we dim the lights before the pain hits.</p>
            <div class="hero-buttons">
                <button class="btn btn-primary">Start Monitoring</button>
                <button class="btn btn-secondary">View Dashboard</button>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="section">
        <div class="container">
            <div class="section-header">
                <h2>Powerful Features</h2>
                <p>Advanced neurotechnology meets intelligent environmental control</p>
            </div>
            <div class="grid grid-3 cards">
                <div class="card feature-card">
                    <div class="card-icon">üß†</div>
                    <h3>EEG Pattern Detection</h3>
                    <p>Real-time analysis of Muse 2 EEG signals to identify early neurological signatures of migraine onset. Detects stress, focus drops, and HRV changes before symptoms appear.</p>
                </div>

                <div class="card feature-card">
                    <div class="card-icon">üí°</div>
                    <h3>Automatic Light Control</h3>
                    <p>Arduino-controlled LED module automatically dims ambient lighting or prompts screen brightness reduction when migraine patterns are detected. Reacts faster than you can.</p>
                </div>

                <div class="card feature-card">
                    <div class="card-icon">üìä</div>
                    <h3>Trigger Logging & Analytics</h3>
                    <p>Log contextual causes‚Äîstress, noise, caffeine, weather, coursework. Visualize EEG trends, trigger frequency, and environment correlations to identify patterns.</p>
                </div>

                <div class="card feature-card">
                    <div class="card-icon">üì±</div>
                    <h3>Interactive Dashboard</h3>
                    <p>Flask-based dashboard for real-time monitoring, event logging, and data visualization. Clean interface that looks great even at 20% brightness.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section id="how-it-works" class="section dark-section">
        <div class="container">
            <div class="section-header">
                <h2>How It Works</h2>
                <p>From brainwaves to light control in seconds</p>
            </div>
            <div class="process-steps">
                <div class="step">
                    <div class="step-number">01</div>
                    <h3>Connect Hardware</h3>
                    <p>Wear your Muse 2 EEG headband and ensure Arduino sensors are connected. The system continuously monitors your brain activity and environment.</p>
                </div>
                <div class="step">
                    <div class="step-number">02</div>
                    <h3>Real-Time Analysis</h3>
                    <p>Python processes EEG signals in real-time, detecting patterns that indicate potential migraine onset‚Äîstress spikes, focus drops, HRV changes.</p>
                </div>
                <div class="step">
                    <div class="step-number">03</div>
                    <h3>Automatic Response</h3>
                    <p>When patterns are detected, Arduino automatically dims lights via LED module. You're prompted to log triggers and reduce screen brightness.</p>
                </div>
                <div class="step">
                    <div class="step-number">04</div>
                    <h3>Learn & Improve</h3>
                    <p>Data is stored locally and analyzed in real-time. Over time, the system learns your personal triggers and becomes more accurate at predicting episodes.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Dashboard Section -->
    <section id="dashboard" class="section">
        <div class="container">
            <div class="section-header">
                <h2>Live Dashboard</h2>
                <p>Monitor your brain activity and environment in real-time</p>
            </div>
            <div class="dashboard-grid">
                <div class="dashboard-card focus-meter">
                    <h3>Current Focus Level</h3>
                    <div class="meter-container">
                        <div class="meter-circle">
                            <div class="meter-value">78%</div>
                            <div class="meter-label">High Focus</div>
                        </div>
                    </div>
                </div>
                <div class="dashboard-card migraine-prediction">
                    <h3>Migraine Prediction</h3>
                    <div class="prediction-container">
                        <div class="prediction-severity">
                            <div class="severity-value" id="migraine-severity">0.0%</div>
                            <div class="severity-label">Severity Score</div>
                        </div>
                        <div class="prediction-stage">
                            <div class="stage-label">Stage:</div>
                            <div class="stage-value" id="migraine-stage">nonictal</div>
                        </div>
                        <div class="prediction-interpretation" id="migraine-interpretation">
                            No data available
                        </div>
                        <div class="risk-indicator" id="migraine-risk">UNKNOWN</div>
                    </div>
                </div>
                <div class="dashboard-card eeg-bands">
                    <h3>EEG Frequency Bands</h3>
                    <div class="bands-list">
                        <div class="band-item">
                            <span class="band-name">Delta (0.5-4 Hz)</span>
                            <strong class="band-value" data-band="delta">0.00</strong>
                        </div>
                        <div class="band-item">
                            <span class="band-name">Theta (4-8 Hz)</span>
                            <strong class="band-value" data-band="theta">0.00</strong>
                        </div>
                        <div class="band-item">
                            <span class="band-name">Alpha (8-13 Hz)</span>
                            <strong class="band-value" data-band="alpha">0.00</strong>
                        </div>
                        <div class="band-item">
                            <span class="band-name">Beta (13-30 Hz)</span>
                            <strong class="band-value" data-band="beta">0.00</strong>
                        </div>
                        <div class="band-item">
                            <span class="band-name">Gamma (30-100 Hz)</span>
                            <strong class="band-value" data-band="gamma">0.00</strong>
                        </div>
                    </div>
                </div>
                <div class="dashboard-card session-info">
                    <h3>Session Stats</h3>
                    <div class="stat-row">
                        <span>Duration:</span>
                        <strong>2:34:12</strong>
                    </div>
                    <div class="stat-row">
                        <span>EEG Attention:</span>
                        <strong>82%</strong>
                    </div>
                    <div class="stat-row">
                        <span>Events Detected:</span>
                        <strong>1</strong>
                    </div>
                    <div class="stat-row">
                        <span>Auto Actions:</span>
                        <strong>2</strong>
                    </div>
                </div>
            </div>
            
            <!-- Real-time Graphs Section -->
            <div class="graphs-section">
                <div class="section-header">
                    <h2>Real-Time Monitoring</h2>
                    <p>Live visualization of EEG metrics and physiological data</p>
                </div>
                <div class="graphs-grid">
                    <div class="graph-card">
                        <h3>EEG Frequency Bands Over Time</h3>
                        <canvas id="eegGraph"></canvas>
                    </div>
                    <div class="dashboard-card metrics-display">
                        <h3>Physiological Metrics</h3>
                        <div class="metrics-grid">
                            <div class="metric-item">
                                <div class="metric-label">Heart Rate</div>
                                <div class="metric-value" id="heart-rate-display">--</div>
                                <div class="metric-unit">BPM</div>
                            </div>
                            <div class="metric-item">
                                <div class="metric-label">Breathing Rate</div>
                                <div class="metric-value" id="breathing-rate-display">--</div>
                                <div class="metric-unit">per min</div>
                            </div>
                            <div class="metric-item">
                                <div class="metric-label">Head Tilt (Pitch)</div>
                                <div class="metric-value" id="head-pitch-display">--</div>
                                <div class="metric-unit">degrees</div>
                            </div>
                            <div class="metric-item">
                                <div class="metric-label">Head Roll</div>
                                <div class="metric-value" id="head-roll-display">--</div>
                                <div class="metric-unit">degrees</div>
                            </div>
                        </div>
                        <div class="metrics-history">
                            <h4>Recent Values</h4>
                            <div class="history-list" id="metrics-history-list">
                                <p class="no-data-text">No data recorded yet</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="section dark-section">
        <div class="container">
            <div class="section-header">
                <h2>About MigraineMinder</h2>
                <p>Built with empathy, powered by technology</p>
            </div>
            <div class="grid grid-2" style="max-width: 1000px; margin: 0 auto;">
                <div class="card">
                    <h3>Our Inspiration</h3>
                    <p>The spark came from one teammate's grandmother, who endures frequent migraines that make everyday light feel like a flashbang. We wanted to make something that reacts faster than a person can‚Äîa little guardian that listens to your brain before the pain hits.</p>
                    <p style="margin-top: 1rem; font-style: italic; color: var(--text-gray);">
                        "The migraine is not a disease of the brain, but a disorder of energy, of control, of balance."<br>
                        <strong>‚Äî Oliver Sacks, Migraine</strong>
                    </p>
                </div>
                <div class="card">
                    <h3>Technology Stack</h3>
                    <ul style="list-style: disc; padding-left: 1.5rem; color: var(--text-gray); line-height: 2;">
                        <li><strong>Flask</strong> ‚Äì Dashboard & event logging</li>
                        <li><strong>Python (Muse SDK)</strong> ‚Äì Real-time EEG processing</li>
                        <li><strong>Arduino (C/C++)</strong> ‚Äì Light control & sensors</li>
                        <li><strong>Machine Learning Models</strong> ‚Äì Deep learning for prediction</li>
                        <li><strong>Muse 2 Headband</strong> ‚Äì EEG, HR, motion tracking</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>MigraineMinder</h3>
                    <p>Easing the mind, one light at a time</p>
                    <p style="margin-top: 1rem; font-size: 0.9rem; opacity: 0.8;">
                        MigraineMinder doesn't try to stop the storm‚Äîit just knows when to turn down the lights.
                    </p>
                </div>
                <div class="footer-section">
                    <h4>Hardware</h4>
                    <p>Muse 2 ‚Ä¢ Arduino ‚Ä¢ DHT11 ‚Ä¢ LDR ‚Ä¢ OLED ‚Ä¢ Vibrating Motor</p>
                </div>
                <div class="footer-section">
                    <h4>Project</h4>
                    <p style="margin-top: 0.5rem; font-size: 0.9rem; opacity: 0.8;">
                        Built with ‚ù§Ô∏è for those who understand the storm
                    </p>
                </div>
            </div>
            <p class="footer-copyright">&copy; 2024 MigraineMinder. All rights reserved.</p>
        </div>
    </footer>

    <!-- Contributors Section -->
    <section class="contributors-section">
        <div class="container">
            <div class="section-header">
                <h2>Our Team</h2>
                <p>Undergraduate students building the future of migraine management</p>
            </div>
            <div class="contributors-container">
                <div class="contributors-scroll">
                    <div class="contributor-card">
                        <div class="contributor-avatar">A</div>
                        <div class="contributor-name">Aahil</div>
                        <div class="contributor-role">Undergraduate Student</div>
                    </div>
                    <div class="contributor-card">
                        <div class="contributor-avatar">S</div>
                        <div class="contributor-name">Sanika</div>
                        <div class="contributor-role">Undergraduate Student</div>
                    </div>
                    <div class="contributor-card">
                        <div class="contributor-avatar">A</div>
                        <div class="contributor-name">Animesh</div>
                        <div class="contributor-role">Undergraduate Student</div>
                    </div>
                    <div class="contributor-card">
                        <div class="contributor-avatar">S</div>
                        <div class="contributor-name">Swayam</div>
                        <div class="contributor-role">Undergraduate Student</div>
                    </div>
                    <div class="contributor-card">
                        <div class="contributor-avatar">P</div>
                        <div class="contributor-name">Pavan</div>
                        <div class="contributor-role">Undergraduate Student</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Chart.js for graphs -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    
    <!-- JavaScript Files -->
    <script src="js/api.js"></script>
    <script src="js/navigation.js"></script>
    <script src="js/dashboard.js"></script>
    <script src="js/graphs.js"></script>
    <script src="js/animations.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
